# 项目需求文档：智能医疗助手 (v1.1)

**版本:** 1.1
**日期:** 2025年9月24日

---

## 目录
1. [项目概述](#1-项目概述-project-overview)
2. [目标用户](#2-目标用户-target-audience)
3. [核心功能](#3-核心功能-core-features)
4. [技术架构](#4-技术架构-technology-architecture)
5. [部署方案](#5-部署方案-deployment-plan)
6. [项目价值与意义](#6-项目价值与意义-project-value--significance)
7. [免责声明](#7-免责声明-disclaimer)

---

### 1. 项目概述 (Project Overview)

本项目旨在开发一个基于大型语言模型（LLM）的“智能医疗助手”。该助手旨在为用户提供一个安全、私密的交流环境，用户可以咨询健康问题、解读个人病例报告。系统的核心能力在于其结合了通用AI能力和特定领域知识库，通过检索增强生成（RAG）技术，为用户提供更精准、更具上下文的回答。此项目不仅是一个功能性应用，更是一个技术能力展示平台，旨在吸引医疗健康领域的企业与合作机会。

### 2. 目标用户 (Target Audience)

1.  **普通用户/患者:**
    *   希望获得初步健康咨询和医疗信息。
    *   需要解读自己的检测报告、病历但难以理解专业术语。
    *   希望有一个私密的AI伙伴来跟踪和管理自己的健康状况。

2.  **医疗机构/研究人员 (知识库管理者):**
    *   希望将内部的医疗文档、临床指南、研究论文等非结构化数据，转化为可供AI查询的知识库，提升信息检索效率。

### 3. 核心功能 (Core Features)

#### 3.1. 知识库管理系统
*   **文档上传:** 支持管理员上传多种格式的文档（PDF, DOCX, TXT, MD），作为AI的专业知识来源。
*   **向量化处理:** 系统自动对上传的文档进行切割、清洗，并调用Embedding模型将其转换为向量数据。
*   **向量存储:** 将生成的向量数据高效存入 **Milvus** 数据库，并建立索引，以便快速检索。

#### 3.2. 智能问答与对话系统
*   **通用健康咨询:** 用户可以用自然语言提问，AI利用其基础模型能力回答通用性问题。
*   **基于知识库的精准问答 (RAG):** 当用户问题涉及专业领域时，系统通过向量检索从Milvus中找到最相关的知识，并结合问题生成精准回答。
*   **个人报告解读:** 用户可在对话中上传自己的文件，AI将临时解析文件内容并结合知识库进行解读。

#### 3.3. 个性化用户记忆
*   **多用户隔离:** 系统支持多用户，每个用户的数据（聊天记录、上传文件）严格隔离。
*   **会话记忆:** AI能够记住当前用户的历史对话信息，实现流畅的多轮对话。
*   **长期记忆存储:** 用户授权后，其关键信息可被存入该用户的专属记忆库中，提供高度个性化的服务。

#### 3.4. 安全与隐私
*   **数据加密:** 所有用户数据在传输和存储时都应加密。
*   **隐私保护:** 明确声明用户的个人健康信息（PHI）不会被用于训练基础大模型。
*   **文件隔离:** 用户上传的私有文件存储在隔离的存储桶中。

### 4. 技术架构 (Technology Architecture)

#### 4.1. 后端技术栈 (Python Ecosystem)
*   **Web框架:** `FastAPI` - 提供高性能、异步的API接口，并自动生成交互式API文档。
*   **ORM框架:** `SQLModel` - FastAPI作者创建的ORM，完美结合SQLAlchemy和Pydantic，用于以Pythonic的方式操作MySQL数据库。
*   **AI编排:** `LangChain` - 作为核心AI逻辑框架，负责构建RAG链、管理Prompts、与LLM和各数据库交互。
*   **大语言模型 (LLM):** 设计为可插拔式，支持接入OpenAI GPT系列、Claude或本地开源模型。

#### 4.2. 数据存储 (Data Storage)
*   **关系型数据库:** `MySQL`
    *   **用途:** 存储结构化数据，包括：用户信息（账户、密码、个人资料）、聊天记录、文件元数据（文件名、所属用户、在MinIO中的路径等）。
*   **向量数据库:** `Milvus`
    *   **用途:** 存储所有知识库文档和用户长期记忆的向量表示，是实现RAG功能的核心。
*   **对象存储:** `MinIO`
    *   **用途:** 存储所有用户上传的原始文件，实现应用与文件的解耦。例如：知识库的PDF原文、用户的体检报告图片等。

#### 4.3. 前端技术栈
*   **核心框架:** `Vue 3`
*   **开发语言:** `TypeScript` - 提供强类型支持，提升代码质量和可维护性。
*   **UI组件库:** `Element Plus` - 用于快速构建美观、一致的用户界面。
*   **开发模式:** 主要由AI辅助生成前端代码，开发者进行审查、集成和调试，以弥补前端技能的不足，快速推进项目。

### 5. 部署方案 (Deployment Plan)

*   **服务器管理面板:** `1Panel`
    *   **用途:** 提供一个图形化的Linux服务器管理界面，简化部署和日常运维工作。
*   **容器化技术:** `Docker` & `Docker Compose`
    *   **用途:** 项目所有后端组件（FastAPI应用、MySQL、Milvus、MinIO）都将被容器化。使用`Docker Compose`编写配置文件，以便在`1Panel`中实现一键部署、管理和更新整个后端服务集群。

### 6. 项目价值与意义 (Project Value & Significance)

本项目是一个端到端的AI应用，全面展示了开发者在AI领域的全栈能力：
*   **RAG架构实践:** 掌握当前最主流的企业级LLM应用架构。
*   **复杂数据管理:** 综合运用三种不同类型的数据库（关系型、向量、对象存储）来解决实际问题。
*   **AI工程化:** 使用LangChain等框架，将LLM从“玩具”变为解决实际问题的“工具”。
*   **全生命周期掌控:** 能够独立完成从需求分析、技术选型、开发实现到最终部署的完整软件工程闭环。

### 7. 免责声明 (Disclaimer)

**重要:** 本“智能医疗助手”是一个技术验证和个人作品展示项目。其提供的所有信息、分析和建议仅供参考，**绝对不能**替代执业医师的专业诊断、治疗和建议。在做出任何医疗决策之前，请务C咨询合格的医疗专业人员。对于因使用本系统提供的信息而导致的任何后果，开发者不承担任何责任。
